### 1) Введение:
Для backend тесты необходимы и чаще проще написать тесты чем проверять код руками. 

Пирамира тестирования. 
1) e2e тесты - собранная система. Полностью готовая система с готовы окружением и всем что необходимо.
Делаем тесты получаем результаты. e2e тесты должны покрывать большенство кода. Если пишем API - проще всего начать с них и покрыть req, rep.
2) Интеграционные тесты - часть компонентов систем. Тесты между несколькими компанентами системы. Например берем два сервера которые интегруруются друг с другом и тестируем.
Нужно поднять два копмонента системы что-бы комоненты могли взвимодейстовать. Это намного проще чем поднять полное окружение, особенно если речь идет о микросервисах.
3) unit тесты - изолированные тесты компонентов. Берем одну функцию, подаем на вход параметры, смотрим на результат функции. Требуется больше работы. (Moc)
unit тесты хороши когда есть сложная бизнес-логика и нужно протестировать её в разных ситуациях. Выполняется вне полного окружения, тогда как e2e тесты требуют завершенной среды и развертывания.

### 2) Интструменты:

Для бэкенд - Jest(основной. Включен в стандартный пакет Nestjs при развертке), Mocha, Chai.
В e2e тестах, также будет использоваться Jest для сравнения результатов.

### 3) Установка и unit tests:

```bash
npm i -D jest @types/jest ts-jest
```

Устанавливаем библиотеку с тестами, типы к ней и аналог ts-node тольно для запука тестов на typescript.
Интеересно зачем типы если библиотека типизирована? Скорее всего для возможности создавать конфигурацию с .ts расширением.

### 4) Конфигурация:

```ts
import { Config } from '@jest/types';
const config: Config.InitialOptions = {
  verbose: true, // Для того что-бы видеть детальный output.
  preset: 'ts-jest', // Для использоапния ts-jest.
};
export default config;
```

Утверждается что это все что нам нужно из конфигурации. Для unit-тестов хватит, а для e2e-тестов, мы сделаем отдельную конфигурацию.

### 5) Переходим к unit тестам:

1) Обычно unit тесты хранятся около файлов которые они тестируют, а e2e в отдельных папках т.к. тестируют все приложение.
2) Создаем в папке users файл users.service.`spec`.ts. Слово `spec` нужно для того что бы при тестах подтягивались все файлы из src при исполнении jest.
